<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Purchase Requisition Lines</title>
    <link rel="stylesheet" href="css/requisitionlines.css">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
	<header>
		<div class="logo-container">
		    <img src="images/CTSlogo.png" alt="Logo" class="logo">
		</div>
		<h1><a href="admin">Procurement Management System</a></h1>
	       <nav>
	           <ul>
	               <li><a href="requisition">Create PR</a></li>
	               <li><a href="requisitionlines">Add Products</a></li>
	               <li><a href="purchaseorder">Create PO</a></li>
	               <li><a href="getstatus">Get Status</a></li>
	               <li><a href="login">Log Out</a></li>
	           </ul>
	       </nav>
	   </header>
    <main>
        <div class="requisition-lines-container">
            <h2>Add Purchase Requisition Lines</h2>
            <form id="requisitionLinesForm">
                <div class="input-group">
                    <label for="requisitionDropdown">Requisition ID:</label>
                    <select id="requisitionDropdown">
                        <!-- Options populated dynamically -->
                        <option>Select Requisition Id</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="productDropdown">Product:</label>
                    <select id="productDropdown" onchange="updateUnitPrice()">
                        <!-- Options populated dynamically -->
                        <option>Select Product</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="unitPrice">Unit Price:</label>
                    <input type="number" id="unitPrice" step="0.01" readonly>
                </div>
                <div class="input-group">
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" min="1" oninput="calculateTotal()">
                </div>
                <div class="input-group">
                    <label for="total">Total:</label>
                    <input type="number" id="total" step="0.01" readonly>
                </div>
                <div class="button-group">
                    <button type="button" onclick="addRow()" class="add">Add</button>
                    <button type="button" onclick="saveRows()" class="save"  id="saveButton">Save</button>
                    <button type="button" onclick="resetForm()" class="reset">Reset</button>
                </div>
            </form>
        </div>
        <div class="requisition-lines-table-container">
            <table id="requisitionLinesTable" style="display: none;">
				<caption>PURCHASE REQUISITION LINES</caption>
                <thead>
                    <tr>
                        <th>S.No.</th>
                        <th>Requisition Line ID</th>
                        <th>Requisition ID</th>
                        <th>Product</th>
                        <th>Unit Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows added dynamically -->
                </tbody>
            </table>
        </div>
    </main>
    <footer>
        <p>&copy; 2025 Procurement Corp. All rights reserved.</p>
    </footer>
    <script src="js/requisitionlines.js"></script>
</body>
</html>